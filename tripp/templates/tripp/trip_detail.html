{% extends 'tripp/_base.html' %}
{% load static %}

{% block title %}Trip Details{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'tripp/detail.css' %}">

<h1>{{ trip.city }}</h1>
<p>{{ trip.country }}</p>
<p><strong>Date:</strong> {{ trip.start_date|date:"M d, Y" }} - {{ trip.end_date|date:"M d, Y" }}</p>

<!-- Edit and Delete Trip -->
<div class="trip-actions">
    <a href="{% url 'trip-update' trip.id %}" class="btn">Edit Trip</a>
    <a href="{% url 'trip-delete' trip.id %}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this trip?');">Delete Trip</a>
</div>

<hr>

<h2>Notes</h2>
<div class="note-list">
    {% for note in notes %}
    <div class="note-item">
        <a href="{% url 'note-detail' note.id %}">
            <img src="{{ note.img.url }}" alt="{{ note.name }}" class="note-img">
            <h3>{{ note.name }}</h3>
            <p><strong>Rating:</strong> {{ note.rating }}/5</p>
        </a>

        <!-- Edit and Delete Note -->
        <div class="note-actions">
            <a href="{% url 'note-update' note.id %}" class="btn">Edit Note</a>
            <a href="{% url 'note-delete' note.id %}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this note?');">Delete Note</a>
        </div>
    </div>
    {% empty %}
    <p>No notes available for this trip.</p>
    {% endfor %}
</div>
{% endblock %}
